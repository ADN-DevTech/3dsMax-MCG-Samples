(InstanceState state, TriMesh mesh, Int32 flux channel, Boolean scaling, Single spacing, Boolean create mesh, Single box size) => 
  {
    Boolean _0True;// 1:True 54756
    TriMesh _22Pass-through: TriMesh;// 0:Pass-through: TriMesh 54467
    MapChannel _44GetMapChannel;// 4:MatricesFromMapChannel.ext->9:GetMapChannel 54643
    IArray[Vector3] _45MapChannelVertexBuffer;// 4:MatricesFromMapChannel.ext->8:MapChannelVertexBuffer 54642
    Int32 _46Count;// 2:Slices->2:Count 54639
    Int32 _47Constant;// 4:MatricesFromMapChannel.ext->0:Constant 54644
    Int32 _48Divide;// 2:Slices->3:Divide 54638
    IArray[Int32] _49Range;// 2:Slices->4:Range 54637
    IArray[IArray[Vector3]] _50Map;// 2:Slices->5:Map 54636
    IArray[Matrix] _51Map;// 4:MatricesFromMapChannel.ext->5:Map 54633
    Int32 _52Zero;// 1:CombineEveryTwoElements.ext->7:Zero 54627
    Int32 _53Two;// 1:CombineEveryTwoElements.ext->6:Two 54628
    IArray[Matrix] _54Stride;// 1:CombineEveryTwoElements.ext->1:Stride 54626
    Int32 _55One;// 1:CombineEveryTwoElements.ext->8:One 54630
    IArray[Matrix] _56Stride;// 1:CombineEveryTwoElements.ext->2:Stride 54629
    Func[Matrix, Matrix, IArray[Matrix]] _57Pass-through: function2;// 0:Pass-through: function2 54624
    IArray[IArray[Matrix]] _58Combine;// 1:CombineEveryTwoElements.ext->3:Combine 54625
    IArray[Matrix] _59Flatten;// 10:ClonerSpacing.ext->16:Flatten 54622
    TriMesh _88IgnoreFirst;// 7:ClonerMeshAsBoxes.ext->7:IgnoreFirst 54471
    _0True = True();
    _22Pass-through: TriMesh = if (_0True)
      {
        MapChannel _1GetMapChannel;// 4:MatricesFromMapChannel.ext->9:GetMapChannel 54643
        IArray[Vector3] _2MapChannelVertexBuffer;// 4:MatricesFromMapChannel.ext->8:MapChannelVertexBuffer 54642
        Int32 _3Count;// 2:Slices->2:Count 54639
        Int32 _4Constant;// 4:MatricesFromMapChannel.ext->0:Constant 54644
        Int32 _5Divide;// 2:Slices->3:Divide 54638
        IArray[Int32] _6Range;// 2:Slices->4:Range 54637
        IArray[IArray[Vector3]] _7Map;// 2:Slices->5:Map 54636
        IArray[Matrix] _8Map;// 4:MatricesFromMapChannel.ext->5:Map 54633
        Int32 _9Zero;// 1:CombineEveryTwoElements.ext->7:Zero 54627
        Int32 _10Two;// 1:CombineEveryTwoElements.ext->6:Two 54628
        IArray[Matrix] _11Stride;// 1:CombineEveryTwoElements.ext->1:Stride 54626
        Int32 _12One;// 1:CombineEveryTwoElements.ext->8:One 54630
        IArray[Matrix] _13Stride;// 1:CombineEveryTwoElements.ext->2:Stride 54629
        Func[Matrix, Matrix, IArray[Matrix]] _14Pass-through: function2;// 0:Pass-through: function2 54624
        IArray[IArray[Matrix]] _15Combine;// 1:CombineEveryTwoElements.ext->3:Combine 54625
        IArray[Matrix] _16Flatten;// 10:ClonerSpacing.ext->16:Flatten 54622
        Func[Matrix, IArray[Vector3]] _17Pass-through: function1;// 0:Pass-through: function1 54610
        IArray[IArray[Vector3]] _18Map;// 5:FlatMap->4:Map 54612
        IArray[Vector3] _19Flatten;// 5:FlatMap->3:Flatten 54611
        IArray[Int32] _20MeshIndices;// 11:StoreMatricesInMapChannel.ext->0:MeshIndices 54621
        TriMesh _21SetMapChannel;// 11:StoreMatricesInMapChannel.ext->7:SetMapChannel 54608
        _1GetMapChannel = GetMapChannel(mesh, flux channel);
        _2MapChannelVertexBuffer = MapChannelVertexBuffer(_1GetMapChannel);
        _3Count = Count(_2MapChannelVertexBuffer);
        _4Constant = 4;
        _5Divide = Divide(_3Count, _4Constant);
        _6Range = Range(_5Divide);
        _7Map = Map(_6Range, (Int32 x0) => 
          {
            Int32 _0Multiply;// 2:Slices->6:Multiply 54641
            IArray[Vector3] _1Slice;// 2:Slices->0:Slice 54640
            _0Multiply = Multiply(_4Constant, x0);
            _1Slice = Slice(_2MapChannelVertexBuffer, _0Multiply, _4Constant);
            _1Slice;
            });
        _8Map = Map(_7Map, (IArray[Vector3] x0) => 
          {
            Matrix _0MatrixIdentity;// 0:SetMatrixFrom3Rows->23:MatrixIdentity 54653
            Int32 _1One;// 0:SetMatrixFrom3Rows->24:One 54654
            Int32 _2Zero;// 6:MatrixFromRows.ext->7:Zero 54658
            Vector3 _3At;// 6:MatrixFromRows.ext->3:At 54657
            Matrix _4SetMatrixRow;// 0:SetMatrixFrom3Rows->22:SetMatrixRow 54652
            Int32 _5Two;// 0:SetMatrixFrom3Rows->26:Two 54655
            Int32 _6One;// 8:PlusOne->1:One 54662
            Int32 _7Add;// 8:PlusOne->0:Add 54661
            Vector3 _8At;// 6:MatrixFromRows.ext->4:At 54659
            Matrix _9SetMatrixRow;// 0:SetMatrixFrom3Rows->27:SetMatrixRow 54651
            Int32 _10Constant;// 25:Three->0:Constant 54656
            Int32 _11One;// 9:PlusOne->1:One 54666
            Int32 _12Add;// 9:PlusOne->0:Add 54665
            Vector3 _13At;// 6:MatrixFromRows.ext->5:At 54663
            Matrix _14SetMatrixRow;// 0:SetMatrixFrom3Rows->28:SetMatrixRow 54650
            Int32 _15One;// 10:PlusOne->1:One 54670
            Int32 _16Add;// 10:PlusOne->0:Add 54669
            Vector3 _17At;// 6:MatrixFromRows.ext->6:At 54667
            Matrix _18SetMatrixTranslation;// 6:MatrixFromRows.ext->2:SetMatrixTranslation 54646
            _0MatrixIdentity = MatrixIdentity();
            _1One = One();
            _2Zero = Zero();
            _3At = At(x0, _2Zero);
            _4SetMatrixRow = SetMatrixRow(_0MatrixIdentity, _1One, _3At);
            _5Two = Two();
            _6One = One();
            _7Add = Add(_2Zero, _6One);
            _8At = At(x0, _7Add);
            _9SetMatrixRow = SetMatrixRow(_4SetMatrixRow, _5Two, _8At);
            _10Constant = 3;
            _11One = One();
            _12Add = Add(_7Add, _11One);
            _13At = At(x0, _12Add);
            _14SetMatrixRow = SetMatrixRow(_9SetMatrixRow, _10Constant, _13At);
            _15One = One();
            _16Add = Add(_12Add, _15One);
            _17At = At(x0, _16Add);
            _18SetMatrixTranslation = SetMatrixTranslation(_14SetMatrixRow, _17At);
            _18SetMatrixTranslation;
            });
        _9Zero = Zero();
        _10Two = Two();
        _11Stride = Stride(_8Map, _9Zero, _10Two);
        _12One = One();
        _13Stride = Stride(_8Map, _12One, _10Two);
        _14Pass-through: function2 = (Matrix x0, Matrix x1) => 
          {
            Vector3 _0GetMatrixTranslation;// 6:MatrixDistance.ext->0:GetMatrixTranslation 54702
            Vector3 _1GetMatrixTranslation;// 6:MatrixDistance.ext->1:GetMatrixTranslation 54703
            Single _2Distance;// 6:MatrixDistance.ext->2:Distance 54701
            Single _3Divide;// 6:MatrixInterpolateWithSpacingAndScaling.ext->7:Divide 54698
            Int32 _4Floor;// 6:MatrixInterpolateWithSpacingAndScaling.ext->8:Floor 54697
            Int32 _5One;// 20:PlusOne->1:One 54696
            Int32 _6Add;// 20:PlusOne->0:Add 54695
            IArray[Single] _7RangeInclusiveFloat;// 19:SampleLerp->2:RangeInclusiveFloat 54693
            Func[Single, Matrix] _8Pass-through: function1;// 0:Pass-through: function1 54691
            IArray[Matrix] _9Map;// 19:SampleLerp->3:Map 54692
            Int32 _10Count;// 3:LastIndex->2:Count 54686
            Int32 _11One;// 3:MinusOne->2:One 54685
            Int32 _12Subtract;// 3:MinusOne->1:Subtract 54684
            IArray[Matrix] _13Take;// 1:DropLast->2:Take 54681
            Int32 _14One;// 2:SkipOne->2:One 54689
            IArray[Matrix] _15Skip;// 2:SkipOne->3:Skip 54688
            Single _16Constant;// 6:MatrixInterpolateWithSpacingAndScaling.ext->0:Constant 54740
            Func[Matrix, Matrix, Matrix] _17Pass-through: function2;// 0:Pass-through: function2 54678
            IArray[Matrix] _18Combine;// 21:CombinePairwiseElements.ext->3:Combine 54679
            _0GetMatrixTranslation = GetMatrixTranslation(x0);
            _1GetMatrixTranslation = GetMatrixTranslation(x1);
            _2Distance = Distance(_0GetMatrixTranslation, _1GetMatrixTranslation);
            _3Divide = Divide(_2Distance, spacing);
            _4Floor = Floor(_3Divide);
            _5One = One();
            _6Add = Add(_4Floor, _5One);
            _7RangeInclusiveFloat = RangeInclusiveFloat(_6Add);
            _8Pass-through: function1 = (Single x0) => 
              {
                Vector3 _0GetMatrixScaling;// 12:MatrixComponentsLerp.ext->6:GetMatrixScaling 54714
                Vector3 _1GetMatrixScaling;// 12:MatrixComponentsLerp.ext->7:GetMatrixScaling 54715
                Vector3 _2Lerp;// 12:MatrixComponentsLerp.ext->11:Lerp 54713
                Quaternion _3GetMatrixRotation;// 12:MatrixComponentsLerp.ext->4:GetMatrixRotation 54717
                Quaternion _4GetMatrixRotation;// 12:MatrixComponentsLerp.ext->5:GetMatrixRotation 54718
                Quaternion _5QuaternionLerp;// 12:MatrixComponentsLerp.ext->9:QuaternionLerp 54716
                Vector3 _6GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->2:GetMatrixTranslation 54720
                Vector3 _7GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->3:GetMatrixTranslation 54721
                Vector3 _8Lerp;// 12:MatrixComponentsLerp.ext->10:Lerp 54719
                Matrix _9ScalingRotationTranslationMatrix;// 12:MatrixComponentsLerp.ext->14:ScalingRotationTranslationMatrix 54712
                _0GetMatrixScaling = GetMatrixScaling(x0);
                _1GetMatrixScaling = GetMatrixScaling(x1);
                _2Lerp = Lerp(_0GetMatrixScaling, _1GetMatrixScaling, x0);
                _3GetMatrixRotation = GetMatrixRotation(x0);
                _4GetMatrixRotation = GetMatrixRotation(x1);
                _5QuaternionLerp = QuaternionLerp(_3GetMatrixRotation, _4GetMatrixRotation, x0);
                _6GetMatrixTranslation = GetMatrixTranslation(x0);
                _7GetMatrixTranslation = GetMatrixTranslation(x1);
                _8Lerp = Lerp(_6GetMatrixTranslation, _7GetMatrixTranslation, x0);
                _9ScalingRotationTranslationMatrix = ScalingRotationTranslationMatrix(_2Lerp, _5QuaternionLerp, _8Lerp);
                _9ScalingRotationTranslationMatrix;
                };
            _9Map = Map(_7RangeInclusiveFloat, _8Pass-through: function1);
            _10Count = Count(_9Map);
            _11One = One();
            _12Subtract = Subtract(_10Count, _11One);
            _13Take = Take(_9Map, _12Subtract);
            _14One = One();
            _15Skip = Skip(_9Map, _14One);
            _16Constant = 0.5;
            _17Pass-through: function2 = (Matrix x0, Matrix x1) => 
              {
                Vector3 _0GetMatrixScaling;// 12:MatrixComponentsLerp.ext->6:GetMatrixScaling 54732
                Vector3 _1GetMatrixScaling;// 12:MatrixComponentsLerp.ext->7:GetMatrixScaling 54733
                Vector3 _2Lerp;// 12:MatrixComponentsLerp.ext->11:Lerp 54731
                Quaternion _3GetMatrixRotation;// 12:MatrixComponentsLerp.ext->4:GetMatrixRotation 54735
                Quaternion _4GetMatrixRotation;// 12:MatrixComponentsLerp.ext->5:GetMatrixRotation 54736
                Quaternion _5QuaternionLerp;// 12:MatrixComponentsLerp.ext->9:QuaternionLerp 54734
                Vector3 _6GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->2:GetMatrixTranslation 54738
                Vector3 _7GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->3:GetMatrixTranslation 54739
                Vector3 _8Lerp;// 12:MatrixComponentsLerp.ext->10:Lerp 54737
                Matrix _9ScalingRotationTranslationMatrix;// 12:MatrixComponentsLerp.ext->14:ScalingRotationTranslationMatrix 54730
                _0GetMatrixScaling = GetMatrixScaling(x0);
                _1GetMatrixScaling = GetMatrixScaling(x1);
                _2Lerp = Lerp(_0GetMatrixScaling, _1GetMatrixScaling, _16Constant);
                _3GetMatrixRotation = GetMatrixRotation(x0);
                _4GetMatrixRotation = GetMatrixRotation(x1);
                _5QuaternionLerp = QuaternionLerp(_3GetMatrixRotation, _4GetMatrixRotation, _16Constant);
                _6GetMatrixTranslation = GetMatrixTranslation(x0);
                _7GetMatrixTranslation = GetMatrixTranslation(x1);
                _8Lerp = Lerp(_6GetMatrixTranslation, _7GetMatrixTranslation, _16Constant);
                _9ScalingRotationTranslationMatrix = ScalingRotationTranslationMatrix(_2Lerp, _5QuaternionLerp, _8Lerp);
                _9ScalingRotationTranslationMatrix;
                };
            _18Combine = Combine(_13Take, _15Skip, _17Pass-through: function2);
            if (scaling)
              {
                Boolean _19True;// 6:MatrixInterpolateWithSpacingAndScaling.ext->18:True 54747
                Single _20IntAsFloat;// 6:MatrixInterpolateWithSpacingAndScaling.ext->16:IntAsFloat 54754
                Single _21Divide;// 6:MatrixInterpolateWithSpacingAndScaling.ext->15:Divide 54753
                Single _22FloatOne;// 6:MatrixInterpolateWithSpacingAndScaling.ext->14:FloatOne 54755
                Vector3 _23Vector3;// 6:MatrixInterpolateWithSpacingAndScaling.ext->12:Vector3 54752
                Single _24Constant;// 8:Origin->0:Constant 54751
                Vector3 _25Vector3;// 8:Origin->1:Vector3 54750
                Matrix _26ScalingTranslationMatrix;// 13:ScalingMatrix.ext->4:ScalingTranslationMatrix 54749
                IArray[Matrix] _27Map;// 6:MatrixInterpolateWithSpacingAndScaling.ext->11:Map 54676
                _19True = True();
                _20IntAsFloat = IntAsFloat(_4Floor);
                _21Divide = Divide(_3Divide, _20IntAsFloat);
                _22FloatOne = FloatOne();
                _23Vector3 = Vector3(_21Divide, _22FloatOne, _22FloatOne);
                _24Constant = 0;
                _25Vector3 = Vector3(_24Constant, _24Constant, _24Constant);
                _26ScalingTranslationMatrix = ScalingTranslationMatrix(_23Vector3, _25Vector3);
                _27Map = Map(_18Combine, (Matrix x0) => 
                  {
                    if (_19True)
                      {
                        Matrix _0Multiply;// 17:MatrixApplyTransform.ext->4:Multiply 54745
                        _0Multiply = Multiply(_26ScalingTranslationMatrix, x0);
                        _0Multiply;
                        }else
                      {
                        Matrix _1Multiply;// 17:MatrixApplyTransform.ext->9:Multiply 54746
                        _1Multiply = Multiply(x0, _26ScalingTranslationMatrix);
                        _1Multiply;
                        };
                    });
                _27Map;
                }else
              {
                _18Combine;
                };
            };
        _15Combine = Combine(_11Stride, _13Stride, _14Pass-through: function2);
        _16Flatten = Flatten(_15Combine);
        _17Pass-through: function1 = (Matrix x0) => 
          {
            Int32 _0Constant;// 3:MatrixRows.ext->0:Constant 54616
            IArray[Int32] _1Range;// 3:MatrixRows.ext->1:Range 54615
            IArray[Vector3] _2Map;// 3:MatrixRows.ext->3:Map 54614
            _0Constant = 4;
            _1Range = Range(_0Constant);
            _2Map = Map(_1Range, (Int32 x0) => 
              {
                Int32 _0One;// 5:PlusOne->1:One 54620
                Int32 _1Add;// 5:PlusOne->0:Add 54619
                Vector3 _2MatrixRow;// 3:MatrixRows.ext->4:MatrixRow 54617
                _0One = One();
                _1Add = Add(x0, _0One);
                _2MatrixRow = MatrixRow(_1Add, x0);
                _2MatrixRow;
                });
            _2Map;
            };
        _18Map = Map(_16Flatten, _17Pass-through: function1);
        _19Flatten = Flatten(_18Map);
        _20MeshIndices = MeshIndices(mesh);
        _21SetMapChannel = SetMapChannel(mesh, flux channel, _19Flatten, _20MeshIndices);
        _21SetMapChannel;
        }else
      {
        mesh;
        };
    _44GetMapChannel = GetMapChannel(mesh, flux channel);
    _45MapChannelVertexBuffer = MapChannelVertexBuffer(_44GetMapChannel);
    _46Count = Count(_45MapChannelVertexBuffer);
    _47Constant = 4;
    _48Divide = Divide(_46Count, _47Constant);
    _49Range = Range(_48Divide);
    _50Map = Map(_49Range, (Int32 x0) => 
      {
        Int32 _0Multiply;// 2:Slices->6:Multiply 54641
        IArray[Vector3] _1Slice;// 2:Slices->0:Slice 54640
        _0Multiply = Multiply(_47Constant, x0);
        _1Slice = Slice(_45MapChannelVertexBuffer, _0Multiply, _47Constant);
        _1Slice;
        });
    _51Map = Map(_50Map, (IArray[Vector3] x0) => 
      {
        Matrix _0MatrixIdentity;// 0:SetMatrixFrom3Rows->23:MatrixIdentity 54653
        Int32 _1One;// 0:SetMatrixFrom3Rows->24:One 54654
        Int32 _2Zero;// 6:MatrixFromRows.ext->7:Zero 54658
        Vector3 _3At;// 6:MatrixFromRows.ext->3:At 54657
        Matrix _4SetMatrixRow;// 0:SetMatrixFrom3Rows->22:SetMatrixRow 54652
        Int32 _5Two;// 0:SetMatrixFrom3Rows->26:Two 54655
        Int32 _6One;// 8:PlusOne->1:One 54662
        Int32 _7Add;// 8:PlusOne->0:Add 54661
        Vector3 _8At;// 6:MatrixFromRows.ext->4:At 54659
        Matrix _9SetMatrixRow;// 0:SetMatrixFrom3Rows->27:SetMatrixRow 54651
        Int32 _10Constant;// 25:Three->0:Constant 54656
        Int32 _11One;// 9:PlusOne->1:One 54666
        Int32 _12Add;// 9:PlusOne->0:Add 54665
        Vector3 _13At;// 6:MatrixFromRows.ext->5:At 54663
        Matrix _14SetMatrixRow;// 0:SetMatrixFrom3Rows->28:SetMatrixRow 54650
        Int32 _15One;// 10:PlusOne->1:One 54670
        Int32 _16Add;// 10:PlusOne->0:Add 54669
        Vector3 _17At;// 6:MatrixFromRows.ext->6:At 54667
        Matrix _18SetMatrixTranslation;// 6:MatrixFromRows.ext->2:SetMatrixTranslation 54646
        _0MatrixIdentity = MatrixIdentity();
        _1One = One();
        _2Zero = Zero();
        _3At = At(x0, _2Zero);
        _4SetMatrixRow = SetMatrixRow(_0MatrixIdentity, _1One, _3At);
        _5Two = Two();
        _6One = One();
        _7Add = Add(_2Zero, _6One);
        _8At = At(x0, _7Add);
        _9SetMatrixRow = SetMatrixRow(_4SetMatrixRow, _5Two, _8At);
        _10Constant = 3;
        _11One = One();
        _12Add = Add(_7Add, _11One);
        _13At = At(x0, _12Add);
        _14SetMatrixRow = SetMatrixRow(_9SetMatrixRow, _10Constant, _13At);
        _15One = One();
        _16Add = Add(_12Add, _15One);
        _17At = At(x0, _16Add);
        _18SetMatrixTranslation = SetMatrixTranslation(_14SetMatrixRow, _17At);
        _18SetMatrixTranslation;
        });
    _52Zero = Zero();
    _53Two = Two();
    _54Stride = Stride(_51Map, _52Zero, _53Two);
    _55One = One();
    _56Stride = Stride(_51Map, _55One, _53Two);
    _57Pass-through: function2 = (Matrix x0, Matrix x1) => 
      {
        Vector3 _0GetMatrixTranslation;// 6:MatrixDistance.ext->0:GetMatrixTranslation 54702
        Vector3 _1GetMatrixTranslation;// 6:MatrixDistance.ext->1:GetMatrixTranslation 54703
        Single _2Distance;// 6:MatrixDistance.ext->2:Distance 54701
        Single _3Divide;// 6:MatrixInterpolateWithSpacingAndScaling.ext->7:Divide 54698
        Int32 _4Floor;// 6:MatrixInterpolateWithSpacingAndScaling.ext->8:Floor 54697
        Int32 _5One;// 20:PlusOne->1:One 54696
        Int32 _6Add;// 20:PlusOne->0:Add 54695
        IArray[Single] _7RangeInclusiveFloat;// 19:SampleLerp->2:RangeInclusiveFloat 54693
        Func[Single, Matrix] _8Pass-through: function1;// 0:Pass-through: function1 54691
        IArray[Matrix] _9Map;// 19:SampleLerp->3:Map 54692
        Int32 _10Count;// 3:LastIndex->2:Count 54686
        _0GetMatrixTranslation = GetMatrixTranslation(x0);
        _1GetMatrixTranslation = GetMatrixTranslation(x1);
        _2Distance = Distance(_0GetMatrixTranslation, _1GetMatrixTranslation);
        _3Divide = Divide(_2Distance, spacing);
        _4Floor = Floor(_3Divide);
        _5One = One();
        _6Add = Add(_4Floor, _5One);
        _7RangeInclusiveFloat = RangeInclusiveFloat(_6Add);
        _8Pass-through: function1 = (Single x0) => 
          {
            Vector3 _0GetMatrixScaling;// 12:MatrixComponentsLerp.ext->6:GetMatrixScaling 54714
            Vector3 _1GetMatrixScaling;// 12:MatrixComponentsLerp.ext->7:GetMatrixScaling 54715
            Vector3 _2Lerp;// 12:MatrixComponentsLerp.ext->11:Lerp 54713
            Quaternion _3GetMatrixRotation;// 12:MatrixComponentsLerp.ext->4:GetMatrixRotation 54717
            Quaternion _4GetMatrixRotation;// 12:MatrixComponentsLerp.ext->5:GetMatrixRotation 54718
            Quaternion _5QuaternionLerp;// 12:MatrixComponentsLerp.ext->9:QuaternionLerp 54716
            Vector3 _6GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->2:GetMatrixTranslation 54720
            Vector3 _7GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->3:GetMatrixTranslation 54721
            Vector3 _8Lerp;// 12:MatrixComponentsLerp.ext->10:Lerp 54719
            Matrix _9ScalingRotationTranslationMatrix;// 12:MatrixComponentsLerp.ext->14:ScalingRotationTranslationMatrix 54712
            _0GetMatrixScaling = GetMatrixScaling(x0);
            _1GetMatrixScaling = GetMatrixScaling(x1);
            _2Lerp = Lerp(_0GetMatrixScaling, _1GetMatrixScaling, x0);
            _3GetMatrixRotation = GetMatrixRotation(x0);
            _4GetMatrixRotation = GetMatrixRotation(x1);
            _5QuaternionLerp = QuaternionLerp(_3GetMatrixRotation, _4GetMatrixRotation, x0);
            _6GetMatrixTranslation = GetMatrixTranslation(x0);
            _7GetMatrixTranslation = GetMatrixTranslation(x1);
            _8Lerp = Lerp(_6GetMatrixTranslation, _7GetMatrixTranslation, x0);
            _9ScalingRotationTranslationMatrix = ScalingRotationTranslationMatrix(_2Lerp, _5QuaternionLerp, _8Lerp);
            _9ScalingRotationTranslationMatrix;
            };
        _9Map = Map(_7RangeInclusiveFloat, _8Pass-through: function1);
        _10Count = Count(_9Map);
        if (scaling)
          {
            Int32 _11One;// 3:MinusOne->2:One 54685
            Int32 _12Subtract;// 3:MinusOne->1:Subtract 54684
            IArray[Matrix] _13Take;// 1:DropLast->2:Take 54681
            Int32 _14One;// 2:SkipOne->2:One 54689
            IArray[Matrix] _15Skip;// 2:SkipOne->3:Skip 54688
            Single _16Constant;// 6:MatrixInterpolateWithSpacingAndScaling.ext->0:Constant 54740
            Func[Matrix, Matrix, Matrix] _17Pass-through: function2;// 0:Pass-through: function2 54678
            IArray[Matrix] _18Combine;// 21:CombinePairwiseElements.ext->3:Combine 54679
            Boolean _19True;// 6:MatrixInterpolateWithSpacingAndScaling.ext->18:True 54747
            Single _20IntAsFloat;// 6:MatrixInterpolateWithSpacingAndScaling.ext->16:IntAsFloat 54754
            Single _21Divide;// 6:MatrixInterpolateWithSpacingAndScaling.ext->15:Divide 54753
            Single _22FloatOne;// 6:MatrixInterpolateWithSpacingAndScaling.ext->14:FloatOne 54755
            Vector3 _23Vector3;// 6:MatrixInterpolateWithSpacingAndScaling.ext->12:Vector3 54752
            Single _24Constant;// 8:Origin->0:Constant 54751
            Vector3 _25Vector3;// 8:Origin->1:Vector3 54750
            Matrix _26ScalingTranslationMatrix;// 13:ScalingMatrix.ext->4:ScalingTranslationMatrix 54749
            IArray[Matrix] _27Map;// 6:MatrixInterpolateWithSpacingAndScaling.ext->11:Map 54676
            _11One = One();
            _12Subtract = Subtract(_10Count, _11One);
            _13Take = Take(_9Map, _12Subtract);
            _14One = One();
            _15Skip = Skip(_9Map, _14One);
            _16Constant = 0.5;
            _17Pass-through: function2 = (Matrix x0, Matrix x1) => 
              {
                Vector3 _0GetMatrixScaling;// 12:MatrixComponentsLerp.ext->6:GetMatrixScaling 54732
                Vector3 _1GetMatrixScaling;// 12:MatrixComponentsLerp.ext->7:GetMatrixScaling 54733
                Vector3 _2Lerp;// 12:MatrixComponentsLerp.ext->11:Lerp 54731
                Quaternion _3GetMatrixRotation;// 12:MatrixComponentsLerp.ext->4:GetMatrixRotation 54735
                Quaternion _4GetMatrixRotation;// 12:MatrixComponentsLerp.ext->5:GetMatrixRotation 54736
                Quaternion _5QuaternionLerp;// 12:MatrixComponentsLerp.ext->9:QuaternionLerp 54734
                Vector3 _6GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->2:GetMatrixTranslation 54738
                Vector3 _7GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->3:GetMatrixTranslation 54739
                Vector3 _8Lerp;// 12:MatrixComponentsLerp.ext->10:Lerp 54737
                Matrix _9ScalingRotationTranslationMatrix;// 12:MatrixComponentsLerp.ext->14:ScalingRotationTranslationMatrix 54730
                _0GetMatrixScaling = GetMatrixScaling(x0);
                _1GetMatrixScaling = GetMatrixScaling(x1);
                _2Lerp = Lerp(_0GetMatrixScaling, _1GetMatrixScaling, _16Constant);
                _3GetMatrixRotation = GetMatrixRotation(x0);
                _4GetMatrixRotation = GetMatrixRotation(x1);
                _5QuaternionLerp = QuaternionLerp(_3GetMatrixRotation, _4GetMatrixRotation, _16Constant);
                _6GetMatrixTranslation = GetMatrixTranslation(x0);
                _7GetMatrixTranslation = GetMatrixTranslation(x1);
                _8Lerp = Lerp(_6GetMatrixTranslation, _7GetMatrixTranslation, _16Constant);
                _9ScalingRotationTranslationMatrix = ScalingRotationTranslationMatrix(_2Lerp, _5QuaternionLerp, _8Lerp);
                _9ScalingRotationTranslationMatrix;
                };
            _18Combine = Combine(_13Take, _15Skip, _17Pass-through: function2);
            _19True = True();
            _20IntAsFloat = IntAsFloat(_4Floor);
            _21Divide = Divide(_3Divide, _20IntAsFloat);
            _22FloatOne = FloatOne();
            _23Vector3 = Vector3(_21Divide, _22FloatOne, _22FloatOne);
            _24Constant = 0;
            _25Vector3 = Vector3(_24Constant, _24Constant, _24Constant);
            _26ScalingTranslationMatrix = ScalingTranslationMatrix(_23Vector3, _25Vector3);
            _27Map = Map(_18Combine, (Matrix x0) => 
              {
                if (_19True)
                  {
                    Matrix _0Multiply;// 17:MatrixApplyTransform.ext->4:Multiply 54745
                    _0Multiply = Multiply(_26ScalingTranslationMatrix, x0);
                    _0Multiply;
                    }else
                  {
                    Matrix _1Multiply;// 17:MatrixApplyTransform.ext->9:Multiply 54746
                    _1Multiply = Multiply(x0, _26ScalingTranslationMatrix);
                    _1Multiply;
                    };
                });
            _27Map;
            }else
          {
            Int32 _28One;// 3:MinusOne->2:One 54685
            Int32 _29Subtract;// 3:MinusOne->1:Subtract 54684
            IArray[Matrix] _30Take;// 1:DropLast->2:Take 54681
            Int32 _31One;// 2:SkipOne->2:One 54689
            IArray[Matrix] _32Skip;// 2:SkipOne->3:Skip 54688
            Single _33Constant;// 6:MatrixInterpolateWithSpacingAndScaling.ext->0:Constant 54740
            Func[Matrix, Matrix, Matrix] _34Pass-through: function2;// 0:Pass-through: function2 54678
            IArray[Matrix] _35Combine;// 21:CombinePairwiseElements.ext->3:Combine 54679
            _28One = One();
            _29Subtract = Subtract(_10Count, _28One);
            _30Take = Take(_9Map, _29Subtract);
            _31One = One();
            _32Skip = Skip(_9Map, _31One);
            _33Constant = 0.5;
            _34Pass-through: function2 = (Matrix x0, Matrix x1) => 
              {
                Vector3 _0GetMatrixScaling;// 12:MatrixComponentsLerp.ext->6:GetMatrixScaling 54732
                Vector3 _1GetMatrixScaling;// 12:MatrixComponentsLerp.ext->7:GetMatrixScaling 54733
                Vector3 _2Lerp;// 12:MatrixComponentsLerp.ext->11:Lerp 54731
                Quaternion _3GetMatrixRotation;// 12:MatrixComponentsLerp.ext->4:GetMatrixRotation 54735
                Quaternion _4GetMatrixRotation;// 12:MatrixComponentsLerp.ext->5:GetMatrixRotation 54736
                Quaternion _5QuaternionLerp;// 12:MatrixComponentsLerp.ext->9:QuaternionLerp 54734
                Vector3 _6GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->2:GetMatrixTranslation 54738
                Vector3 _7GetMatrixTranslation;// 12:MatrixComponentsLerp.ext->3:GetMatrixTranslation 54739
                Vector3 _8Lerp;// 12:MatrixComponentsLerp.ext->10:Lerp 54737
                Matrix _9ScalingRotationTranslationMatrix;// 12:MatrixComponentsLerp.ext->14:ScalingRotationTranslationMatrix 54730
                _0GetMatrixScaling = GetMatrixScaling(x0);
                _1GetMatrixScaling = GetMatrixScaling(x1);
                _2Lerp = Lerp(_0GetMatrixScaling, _1GetMatrixScaling, _33Constant);
                _3GetMatrixRotation = GetMatrixRotation(x0);
                _4GetMatrixRotation = GetMatrixRotation(x1);
                _5QuaternionLerp = QuaternionLerp(_3GetMatrixRotation, _4GetMatrixRotation, _33Constant);
                _6GetMatrixTranslation = GetMatrixTranslation(x0);
                _7GetMatrixTranslation = GetMatrixTranslation(x1);
                _8Lerp = Lerp(_6GetMatrixTranslation, _7GetMatrixTranslation, _33Constant);
                _9ScalingRotationTranslationMatrix = ScalingRotationTranslationMatrix(_2Lerp, _5QuaternionLerp, _8Lerp);
                _9ScalingRotationTranslationMatrix;
                };
            _35Combine = Combine(_30Take, _32Skip, _34Pass-through: function2);
            _35Combine;
            };
        };
    _58Combine = Combine(_54Stride, _56Stride, _57Pass-through: function2);
    _59Flatten = Flatten(_58Combine);
    _88IgnoreFirst = IgnoreFirst(_22Pass-through: TriMesh, if (create mesh)
      {
        Int32 _60Constant;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->0:Constant 54479
        IArray[Int32] _61Range;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->1:Range 54478
        Int32 _62Two;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->4:Two 54480
        IArray[Int32] _63Skip;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->3:Skip 54477
        IArray[Int32] _64Filter;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->13:Filter 54476
        MapChannel _65GetMapChannel;// 34:MatricesFromMapChannel.ext->9:GetMapChannel 54538
        IArray[Vector3] _66MapChannelVertexBuffer;// 34:MatricesFromMapChannel.ext->8:MapChannelVertexBuffer 54537
        Int32 _67Count;// 2:Slices->2:Count 54534
        Int32 _68Constant;// 34:MatricesFromMapChannel.ext->0:Constant 54539
        Int32 _69Divide;// 2:Slices->3:Divide 54533
        IArray[Int32] _70Range;// 2:Slices->4:Range 54532
        IArray[IArray[Vector3]] _71Map;// 2:Slices->5:Map 54531
        IArray[Matrix] _72Map;// 34:MatricesFromMapChannel.ext->5:Map 54528
        Single _73Constant;// 1:Origin->0:Constant 54596
        Vector3 _74Vector3;// 1:Origin->1:Vector3 54595
        BoundingSphere _75Sphere;// 0:BoxFromPointAndRadius->3:Sphere 54594
        BoundingBox _76BoxFromSphere;// 0:BoxFromPointAndRadius->0:BoxFromSphere 54593
        QuadMesh _77BoxQuadMesh;// 29:BoxTriMesh->2:BoxQuadMesh 54589
        TriMesh _78Triangulate;// 29:BoxTriMesh->3:Triangulate 54588
        IArray[Int32] _79MeshIndices;// 4:HideEveryThirdEdge->2:MeshIndices 54579
        IArray[Int32] _80Indices;// 4:HideEveryThirdEdge->8:Indices 54578
        Int32 _81Constant;// 4:HideEveryThirdEdge->0:Constant 54586
        Int32 _82Constant;// 4:HideEveryThirdEdge->0:Constant 54587
        IArray[Boolean] _83Map;// 4:HideEveryThirdEdge->5:Map 54577
        TriMesh _84SetVisibleEdges;// 4:HideEveryThirdEdge->9:SetVisibleEdges 54576
        IArray[TriMesh] _85Map;// 7:ClonerMeshAsBoxes.ext->16:Map 54525
        TriMesh _86CombineAllMeshes;// 7:ClonerMeshAsBoxes.ext->2:CombineAllMeshes 54524
        TriMesh _87Aggregate;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->6:Aggregate 54475
        _60Constant = 100;
        _61Range = Range(_60Constant);
        _62Two = Two();
        _63Skip = Skip(_61Range, _62Two);
        _64Filter = Filter(_63Skip, (Int32 x0) => 
          {
            Int32 _0Constant;// 5:GetMapChannelOrGeometry.ext->0:Constant 54493
            Boolean _1Equal;// 5:GetMapChannelOrGeometry.ext->4:Equal 54492
            MapChannel _9Pass-through: any;// 0:Pass-through: any 54484
            Object _10Null;// 6:IsNullFix2.ext->3:Null 54488
            Object _11As;// 6:IsNullFix2.ext->23:As 54486
            Boolean _12Equal;// 6:IsNullFix2.ext->1:Equal 54485
            Boolean _13Not;// 12:MapChannelExists.ext->4:Not 54483
            _0Constant = -3;
            _1Equal = Equal(x0, _0Constant);
            _9Pass-through: any = if (_1Equal)
              {
                MapChannel _7TopologyChannel;// 5:GetMapChannelOrGeometry.ext->6:TopologyChannel 54494
                _7TopologyChannel = TopologyChannel(_22Pass-through: TriMesh);
                _7TopologyChannel;
                }else
              {
                MapChannel _8GetMapChannel;// 5:GetMapChannelOrGeometry.ext->3:GetMapChannel 54495
                _8GetMapChannel = GetMapChannel(_22Pass-through: TriMesh, x0);
                _8GetMapChannel;
                };
            _10Null = Null();
            _11As = As(_9Pass-through: any, (Object x0) => 
              {
                Object _0IgnoreFirst;// 6:IsNullFix2.ext->5:IgnoreFirst 54487
                _0IgnoreFirst = IgnoreFirst(x0, _10Null);
                _0IgnoreFirst;
                });
            _12Equal = Equal(_11As, _10Null);
            _13Not = Not(_12Equal);
            _13Not;
            });
        _65GetMapChannel = GetMapChannel(_22Pass-through: TriMesh, flux channel);
        _66MapChannelVertexBuffer = MapChannelVertexBuffer(_65GetMapChannel);
        _67Count = Count(_66MapChannelVertexBuffer);
        _68Constant = 4;
        _69Divide = Divide(_67Count, _68Constant);
        _70Range = Range(_69Divide);
        _71Map = Map(_70Range, (Int32 x0) => 
          {
            Int32 _0Multiply;// 2:Slices->6:Multiply 54536
            IArray[Vector3] _1Slice;// 2:Slices->0:Slice 54535
            _0Multiply = Multiply(_68Constant, x0);
            _1Slice = Slice(_66MapChannelVertexBuffer, _0Multiply, _68Constant);
            _1Slice;
            });
        _72Map = Map(_71Map, (IArray[Vector3] x0) => 
          {
            Matrix _0MatrixIdentity;// 0:SetMatrixFrom3Rows->23:MatrixIdentity 54548
            Int32 _1One;// 0:SetMatrixFrom3Rows->24:One 54549
            Int32 _2Zero;// 6:MatrixFromRows.ext->7:Zero 54553
            Vector3 _3At;// 6:MatrixFromRows.ext->3:At 54552
            Matrix _4SetMatrixRow;// 0:SetMatrixFrom3Rows->22:SetMatrixRow 54547
            Int32 _5Two;// 0:SetMatrixFrom3Rows->26:Two 54550
            Int32 _6One;// 8:PlusOne->1:One 54557
            Int32 _7Add;// 8:PlusOne->0:Add 54556
            Vector3 _8At;// 6:MatrixFromRows.ext->4:At 54554
            Matrix _9SetMatrixRow;// 0:SetMatrixFrom3Rows->27:SetMatrixRow 54546
            Int32 _10Constant;// 25:Three->0:Constant 54551
            Int32 _11One;// 9:PlusOne->1:One 54561
            Int32 _12Add;// 9:PlusOne->0:Add 54560
            Vector3 _13At;// 6:MatrixFromRows.ext->5:At 54558
            Matrix _14SetMatrixRow;// 0:SetMatrixFrom3Rows->28:SetMatrixRow 54545
            Int32 _15One;// 10:PlusOne->1:One 54565
            Int32 _16Add;// 10:PlusOne->0:Add 54564
            Vector3 _17At;// 6:MatrixFromRows.ext->6:At 54562
            Matrix _18SetMatrixTranslation;// 6:MatrixFromRows.ext->2:SetMatrixTranslation 54541
            _0MatrixIdentity = MatrixIdentity();
            _1One = One();
            _2Zero = Zero();
            _3At = At(x0, _2Zero);
            _4SetMatrixRow = SetMatrixRow(_0MatrixIdentity, _1One, _3At);
            _5Two = Two();
            _6One = One();
            _7Add = Add(_2Zero, _6One);
            _8At = At(x0, _7Add);
            _9SetMatrixRow = SetMatrixRow(_4SetMatrixRow, _5Two, _8At);
            _10Constant = 3;
            _11One = One();
            _12Add = Add(_7Add, _11One);
            _13At = At(x0, _12Add);
            _14SetMatrixRow = SetMatrixRow(_9SetMatrixRow, _10Constant, _13At);
            _15One = One();
            _16Add = Add(_12Add, _15One);
            _17At = At(x0, _16Add);
            _18SetMatrixTranslation = SetMatrixTranslation(_14SetMatrixRow, _17At);
            _18SetMatrixTranslation;
            });
        _73Constant = 0;
        _74Vector3 = Vector3(_73Constant, _73Constant, _73Constant);
        _75Sphere = Sphere(_74Vector3, box size);
        _76BoxFromSphere = BoxFromSphere(_75Sphere);
        _77BoxQuadMesh = BoxQuadMesh(_76BoxFromSphere);
        _78Triangulate = Triangulate(_77BoxQuadMesh);
        _79MeshIndices = MeshIndices(_78Triangulate);
        _80Indices = Indices(_79MeshIndices);
        _81Constant = 3;
        _82Constant = 2;
        _83Map = Map(_80Indices, (Int32 x0) => 
          {
            Int32 _0Modulo;// 6:ModuloEquals->3:Modulo 54585
            Boolean _1Equal;// 6:ModuloEquals->4:Equal 54584
            Boolean _2Not;// 4:HideEveryThirdEdge->7:Not 54580
            _0Modulo = Modulo(x0, _81Constant);
            _1Equal = Equal(_0Modulo, _82Constant);
            _2Not = Not(_1Equal);
            _2Not;
            });
        _84SetVisibleEdges = SetVisibleEdges(_78Triangulate, _83Map);
        _85Map = Map(_72Map, (Matrix x0) => 
          {
            IArray[Vector3] _0MeshVertices;// 2:DeformMeshPoints->0:MeshVertices 54572
            Func[Vector3, Vector3] _1Pass-through: function1;// 0:Pass-through: function1 54569
            IArray[Vector3] _2Map;// 2:DeformMeshPoints->1:Map 54571
            TriMesh _3SetMeshVertices;// 2:DeformMeshPoints->4:SetMeshVertices 54570
            _0MeshVertices = MeshVertices(_84SetVisibleEdges);
            _1Pass-through: function1 = (Vector3 x0) => 
              {
                Vector3 _0Transform;// 36:TransformMesh->0:Transform 54573
                _0Transform = Transform(x0, x0);
                _0Transform;
                };
            _2Map = Map(_0MeshVertices, _1Pass-through: function1);
            _3SetMeshVertices = SetMeshVertices(_84SetVisibleEdges, _2Map);
            _3SetMeshVertices;
            });
        _86CombineAllMeshes = CombineAllMeshes(_85Map);
        _87Aggregate = Aggregate(_64Filter, _86CombineAllMeshes, (TriMesh x0, Int32 x1) => 
          {
            TriMesh _0TryCatch;// 10:MapChannelCopyVertexBuffer.ext->10:TryCatch 54499
            _0TryCatch = TryCatch(() => 
              {
                Int32 _0IgnoreFirst;// 41:MeshCopyCustomMapChannelVertexBuffers.ext->7:IgnoreFirst 54521
                Int32 _1Constant;// 5:GetMapChannelOrGeometry.ext->0:Constant 54513
                Boolean _2Equal;// 5:GetMapChannelOrGeometry.ext->4:Equal 54512
                MapChannel _10Pass-through: any;// 0:Pass-through: any 54504
                Object _11Null;// 6:IsNullFix2.ext->3:Null 54508
                Object _12As;// 6:IsNullFix2.ext->23:As 54506
                Boolean _13Equal;// 6:IsNullFix2.ext->1:Equal 54505
                Boolean _14Not;// 5:MapChannelExists.ext->4:Not 54503
                _0IgnoreFirst = IgnoreFirst(x0, x1);
                _1Constant = -3;
                _2Equal = Equal(_0IgnoreFirst, _1Constant);
                _10Pass-through: any = if (_2Equal)
                  {
                    MapChannel _8TopologyChannel;// 5:GetMapChannelOrGeometry.ext->6:TopologyChannel 54514
                    _8TopologyChannel = TopologyChannel(_22Pass-through: TriMesh);
                    _8TopologyChannel;
                    }else
                  {
                    MapChannel _9GetMapChannel;// 5:GetMapChannelOrGeometry.ext->3:GetMapChannel 54515
                    _9GetMapChannel = GetMapChannel(_22Pass-through: TriMesh, _0IgnoreFirst);
                    _9GetMapChannel;
                    };
                _11Null = Null();
                _12As = As(_10Pass-through: any, (Object x0) => 
                  {
                    Object _0IgnoreFirst;// 6:IsNullFix2.ext->5:IgnoreFirst 54507
                    _0IgnoreFirst = IgnoreFirst(x0, _11Null);
                    _0IgnoreFirst;
                    });
                _13Equal = Equal(_12As, _11Null);
                _14Not = Not(_13Equal);
                if (_14Not)
                  {
                    MapChannel _15GetMapChannel;// 10:MapChannelCopyVertexBuffer.ext->1:GetMapChannel 54518
                    IArray[Vector3] _16MapChannelVertexBuffer;// 10:MapChannelCopyVertexBuffer.ext->8:MapChannelVertexBuffer 54517
                    IArray[Int32] _17MeshIndices;// 10:MapChannelCopyVertexBuffer.ext->0:MeshIndices 54519
                    TriMesh _18SetMapChannel;// 10:MapChannelCopyVertexBuffer.ext->7:SetMapChannel 54516
                    _15GetMapChannel = GetMapChannel(_22Pass-through: TriMesh, _0IgnoreFirst);
                    _16MapChannelVertexBuffer = MapChannelVertexBuffer(_15GetMapChannel);
                    _17MeshIndices = MeshIndices(x0);
                    _18SetMapChannel = SetMapChannel(x0, _0IgnoreFirst, _16MapChannelVertexBuffer, _17MeshIndices);
                    _18SetMapChannel;
                    }else
                  {
                    x0;
                    };
                }, (Exception x0) => 
              {
                TriMesh _0IgnoreFirst;// 10:MapChannelCopyVertexBuffer.ext->11:IgnoreFirst 54520
                _0IgnoreFirst = IgnoreFirst(x0, x0);
                _0IgnoreFirst;
                });
            _0TryCatch;
            });
        _87Aggregate;
        }else
      {
        _22Pass-through: TriMesh;
        });
    _88IgnoreFirst;
    }